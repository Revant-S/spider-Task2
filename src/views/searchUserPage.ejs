<!DOCTYPE html>
<html lang="en">

<head>
    <%- include("./partials/headTag.ejs") %>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="/public/cssFiles/sideBar.css">
        <link rel="stylesheet" href="/public/cssFiles/nav.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/public/cssFiles/searchBar.css">
        <style>
            .wholePage {
                padding: 0%;
                overflow: scroll;
                margin: 0%;
                width: 100vw;
                height: 100vh;
                display: flex;
                flex-direction: column;
            }

            .outer {
                padding: 0%;
                margin: 0%;
                width: 100vw;
                height: 100vh;
                display: flex;
                align-items: flex-start;
            }

            .workSpace {
                width: 100%;
                padding: 0%;
                margin: 0%;
                display: grid;
                height: 100%;
                grid-template-columns: repeat(3, 1fr);

                gap: 1rem;

            }

            .container {
                width: 100%;

                display: flex;
                justify-content: center;

            }

            .card {
                overflow: hidden;
                width: 18rem;
                max-height: 50vh;
                overflow: hidden;
            }

            .imageProile {
                width: 100%;
                height: 50%;
            }

            .imageProile img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
        </style>
</head>

<body>
    <div class="outer">
        <%- include("./partials/sideBar.ejs") %>
        <div class="wholePage">
            <%- include("./partials/navBar.ejs") %>
            <h2 style="text-align: center;">Search For  Users</h2>
            <%- include("./partials/searchBar.ejs") %>
            <div class="workSpace">
                        <% locals.users.forEach(element=> { %>
                            <div class="container mt-3">
                                <div class="card small">
                                    <div class="imageProile">
                                        <img src="<%=element.profileImageURL  %>"
                                            class="card-img-top cardImage" alt="User Avatar">
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">
                                            <%= element.userName %>
                                        </h5>
                                        <p class="card-text ptag">
                                            <%= element.email %>
                                        </p>
                                        <% console.log("FROM EJS "); %>
                                        <% console.log(element); %>
                                        <p class="card-text ptag">Followers: <%= element.followers.length || 0 %>
                                        </p>
                                        <div class="btn-container">
                                            <a href="/user/getUser/<%= element._id %>" class="btn btn-primary">View
                                                Details</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <% }) %>
                    </div>
            </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="/public/dist/searchUser.bundle.js" type="module"></script>
</body>

</html>